<div class="group relative">
  <div class="aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md bg-gray-200 lg:aspect-none group-hover:opacity-75 lg:h-80 relative">
    {% if product.primary_image %}
      <img src="{{ product.primary_image.image.url }}" alt="{{ product.primary_image.alt_text }}" class="h-full w-full object-cover object-center lg:h-full lg:w-full" />
    {% else %}
      <div class="h-full w-full flex items-center justify-center bg-gray-100 text-gray-400">No Image</div>
    {% endif %}

    <!-- Badges -->
    <div class="absolute top-2 left-2 flex flex-col gap-1">
      {% if product.is_new_arrival %}
        <span class="bg-black text-white text-xs px-2 py-1 uppercase tracking-wide font-bold">New</span>
      {% endif %}
      {% if not product.in_stock %}
        <span class="bg-red-600 text-white text-xs px-2 py-1 uppercase tracking-wide font-bold">Sold Out</span>
      {% endif %}
    </div>

    <!-- Quick Add (Desktop Hover) -->
    <div class="absolute bottom-4 left-4 right-4 translate-y-full opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 hidden lg:block">
      <a href="/shop/product/{{ product.slug }}/" class="btn-secondary w-full bg-white text-black text-sm py-2 shadow-lg">View Details</a>
    </div>
  </div>

  <div class="mt-4 flex justify-between">
    <div>
      <h3 class="text-sm text-gray-700">
        <a href="/shop/product/{{ product.slug }}/">
          <span aria-hidden="true" class="absolute inset-0"></span>
          {{ product.name }}
        </a>
      </h3>
      <p class="mt-1 text-sm text-gray-500">{{ product.category.name }}</p>
    </div>
    <p class="text-sm font-medium text-gray-900">${{ product.base_price }}</p>
  </div>
</div>
