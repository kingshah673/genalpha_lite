{% extends 'layouts/base.html' %}

{% block title %}
  Order Confirmed - BrandStore
{% endblock %}

{% block content %}
  <div class="bg-white">
    <div class="mx-auto max-w-3xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
      <div class="max-w-xl">
        <h1 class="text-sm font-medium text-primary-600">Order successful</h1>
        <p class="mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl">Thanks for ordering</p>
        <p class="mt-2 text-base text-gray-500">We appreciate your order, we're currently processing it. So hang tight and we'll send you confirmation very soon!</p>

        <dl class="mt-12 text-sm font-medium">
          <dt class="text-gray-900">Order number</dt>
          <dd class="text-primary-600 mt-2">{{ order.order_number }}</dd>
        </dl>
      </div>

      <div class="mt-10 border-t border-gray-200">
        <h2 class="sr-only">Your order</h2>

        <h3 class="sr-only">Items</h3>
        {% for item in order.items.all %}
          <div class="flex justify-between border-b border-gray-200 py-6">
            <div class="flex gap-4">
              <div class="h-20 w-20 rounded-lg bg-gray-100 border border-gray-200 overflow-hidden flex-shrink-0">
                {% if item.product.primary_image %}
                  <img src="{{ item.product.primary_image.image.url }}" class="h-full w-full object-cover" />
                {% endif %}
              </div>
              <div>
                <h4 class="font-medium text-gray-900">{{ item.product.name }}</h4>
                <p class="mt-1 text-gray-500">
                  {% if item.variant %}
                    {{ item.variant.size }} | {{ item.variant.color }}
                  {% endif %}
                </p>
                <p class="mt-1 text-gray-500">Qty {{ item.quantity }}</p>
              </div>
            </div>
            <div class="flex-none font-medium text-gray-900">${{ item.subtotal }}</div>
          </div>
        {% endfor %}

        <div class="mt-6 flex justify-between pt-6">
          <dt class="font-medium text-gray-900">Total</dt>
          <dd class="text-gray-900">${{ order.total_amount }}</dd>
        </div>
      </div>

      <div class="mt-12">
        <a href="/" class="text-sm font-medium text-primary-600 hover:text-primary-500">Continue Shopping &rarr;</a>
      </div>
    </div>
  </div>
{% endblock %}
